## AVL 트리
![mceclip0 (2)](https://user-images.githubusercontent.com/63636555/146297289-b9a2eb5c-c199-4044-8e66-c6c40a971dad.png)

AVL 트리는 스스로 균형을 잡는 이진 탐색 트리다. 왼쪽과 오른쪽의 높이 차이가 항상 1보다 작거나 같아야 한다.


## AVL 트리 노드
<pre><code>
class Node<T> {
  T data;
  Node<T> left, right, parent;
  public Node(T obj){
    this.data = obj;
    left = right = parent = null;
  }
}
</code></pre>


## add 메소드
<pre><code>
//AVL 클래스의 생성자
public AVLTree(){
  root = null;
  currentSize = 0;
}

//add 메소드
public void add(E obj){
  Node<E> node = new Node(obj);
  //트리가 비어있을 경우
  if(root == null){
    root = node;
    currentSize++;
    return;
  }
  //트리가 비어있지 않은 경우. add메소드를 재귀로 호출.
  add(root,node);
}

//재귀 add 메소드
public void add(Node<E> parent, Node<E> newNode){
  if(((Comparable<E>)newNode.data).compareTo(parent.data) > 0){
    if(parent.right == null){
      parent.right = newNode;
      newNode.parent = parent;
      currentSize++;
    } else{
      add(parent.right, newNode);
    }
  }
  else{
    if(parent.left = null){
      parent.left = newNode;
      newNode.parent = parent;
      currentSize++;
    } else{
      add(parent.left, newNode);
    }
  }
  //AVL트리가 규칙에 맞게 잘 되어있는지 확인합니다.
  checkBalance(newNode);
}
</code></pre>

## 균형 확인 메소드
<pre><code>
public void checkBalance(Node<E> node){
  if((height(node.left) - height(node.right)) > 1 || (height(node.left) - height(node.right)) < -1){
    rebalance(node);
  }
  if(node.parent == null)
    return;
  checkBalance(node.parent);
}
</code></pre>


## Rebalance 메소드
<pre><code>
public void Rebalance(Node<E> node){
  //왼쪽 자식의 height > 오른쪽 자식의 height
  if(height(node.left) - height(node.right) > 1){
    if(height(node.left.left) > height(node.left.right)){
      node = rightRotate(node);
      }
    else{
      node = leftRightRotate(node);
      }
  }
  else{
    if(height(node.left.left) > height(node.left.right))
    {
      node = rightLeftRotate(node);
    }
    else{
      node = leftRotate(node);
    }
  }
  if(node.parent == null)
    root = node;
}
</code></pre>
